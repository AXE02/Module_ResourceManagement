<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="BExIS.Rbm.Entities" namespace="BExIS.Rbm.Entities.Booking">
  <joined-subclass xmlns="urn:nhibernate-mapping-2.2" name="BookingEvent" table="BookingEvents" extends="RealEvent" dynamic-update="true">

    <!-- Mapping Event Properties -->
    <key column="Id" />


    <set name="Activities" table="BookingEvent_Activity"  cascade="save-update" lazy="true">
      <key column="EventRef"/>
      <many-to-many column="ActivityRef" class="BExIS.Rbm.Entities.Booking.Activity, BExIS.Rbm.Entities"/>
    </set>
    
  </joined-subclass>

</hibernate-mapping>